<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<f:metadata>
	<f:viewAction action="#{usuarioManagedBean.checkAuthentication()}" />
	<f:viewAction action="#{usuarioManagedBean.checkAuthenticationAdmin()}" />
</f:metadata>

<h:head>
	<meta charset="utf-8" name="viewport"
		content="width=device-width, initial-scale=1"
		http-equiv="X-UA-Conpatible" />
	<title>Matricula</title>
</h:head>
<h:body>
	<h2>Agregar Matricula</h2>

	<h:outputText value="#{usuarioSession.username}"></h:outputText>
	<h:form>
		<h:commandButton action="#{usuarioManagedBean.irInicioAdmin()}"
			value="Inicio" class="btn_format btn_agregar"></h:commandButton>
		<h:commandButton action="#{usuarioManagedBean.cerrarSesion()}"
			value="Salir" class="btn_format btn_agregar"></h:commandButton>


		<h:commandButton action="#{usuarioManagedBean.irListaMatriculasAdmin()}"
			value="Matriculas" class="btn_format btn_agregar"></h:commandButton>

	</h:form>

	<h:form>
		<h:panelGrid border="1">
			<f:facet name="header">
				<h:outputText value="Nueva Matricula"></h:outputText>
			</f:facet>

			<h:outputText value="Estudiante"></h:outputText>
			<h:inputText value="#{registroNotas.idUsuario}"></h:inputText>

			<h:outputText value="Materia"></h:outputText>
			<h:inputText value="#{registroNotas.idMateria}"></h:inputText>


			<f:facet name="footer">
				<h:commandButton action="#{notasManagedBean.guardarNota(registroNotas)}"
					value="Registrar"></h:commandButton>
			</f:facet>

		</h:panelGrid>
	</h:form>

	<h2>Referencias de Estudiantes</h2>
	<h:dataTable value="#{usuarioManagedBean.obtenerUsuarioEstudiante()}"
		var="usuario" border="1">
		<h:column>
			<f:facet name="header">ID</f:facet>
			<h:outputText value="#{usuario.idUsuario}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">Nombre</f:facet>
			<h:outputText value="#{usuario.nombreUsuario}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">Apellido</f:facet>
			<h:outputText value="#{usuario.apellidoUsuario}"></h:outputText>
		</h:column>
	</h:dataTable>
	
	<h2>Referencias de Materias</h2>
	<h:dataTable value="#{materiaManagedBean.obtenerMateria()}"
		var="materia" border="1">
		<h:column>
			<f:facet name="header">ID</f:facet>
			<h:outputText value="#{materia.idMateria}"></h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">Materia</f:facet>
			<h:outputText value="#{materia.nombreMateria}"></h:outputText>
		</h:column>
	</h:dataTable>
</h:body>
</html>